/*!
 * JqTree 1.3.7
 * 
 * Copyright 2017 Marco Braak
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 */
!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t,o){"use strict";function n(e,t){return e.indexOf(t)}function r(e,t){return e.indexOf(t)}function i(e){return"number"==typeof e&&e%1===0}function s(e){return"function"==typeof e}function a(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function l(e){return e?"true":"false"}t._indexOf=n,t.indexOf=r,t.isInt=i,t.isFunction=s,t.html_escape=a,t.getBoolString=l},function(e,t,o){"use strict";var n=window.jQuery;t.Position={getName:function(e){return t.Position.strings[e-1]},nameToIndex:function(e){for(var o=1;o<=t.Position.strings.length;o++)if(t.Position.strings[o-1]===e)return o;return 0},BEFORE:1,AFTER:2,INSIDE:3,NONE:4,strings:["before","after","inside","none"]};var r=function(){function e(t,o,n){void 0===o&&(o=!1),void 0===n&&(n=e),this.name="",this.setData(t),this.children=[],this.parent=null,o&&(this.id_mapping={},this.tree=this,this.node_class=n)}return e.prototype.setData=function(e){var t=this,o=function(e){null!=e&&(t.name=e)};if(e)if("object"!=typeof e)o(e);else for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"label"===n?o(r):"children"!==n&&(this[n]=r)}},e.prototype.loadFromData=function(e){this.removeChildren();for(var t=0,o=e;t<o.length;t++){var n=o[t],r=new this.tree.node_class(n);this.addChild(r),"object"==typeof n&&n.children&&r.loadFromData(n.children)}},e.prototype.addChild=function(e){this.children.push(e),e._setParent(this)},e.prototype.addChildAtPosition=function(e,t){this.children.splice(t,0,e),e._setParent(this)},e.prototype.removeChild=function(e){e.removeChildren(),this._removeChild(e)},e.prototype.getChildIndex=function(e){return n.inArray(e,this.children)},e.prototype.hasChildren=function(){return 0!==this.children.length},e.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},e.prototype.iterate=function(e){var t=function(o,n){if(o.children){for(var r=0,i=o.children;r<i.length;r++){var s=i[r],a=e(s,n);a&&s.hasChildren()&&t(s,n+1)}return null}};t(this,0)},e.prototype.moveNode=function(e,o,n){e.isParentOf(o)||(e.parent._removeChild(e),n===t.Position.AFTER?o.parent.addChildAtPosition(e,o.parent.getChildIndex(o)+1):n===t.Position.BEFORE?o.parent.addChildAtPosition(e,o.parent.getChildIndex(o)):n===t.Position.INSIDE&&o.addChildAtPosition(e,0))},e.prototype.getData=function(e){function t(e){return e.map(function(e){var o={};for(var n in e)if(["parent","children","element","tree"].indexOf(n)===-1&&Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];o[n]=r}return e.hasChildren()&&(o.children=t(e.children)),o})}return void 0===e&&(e=!1),t(e?[this]:this.children)},e.prototype.getNodeByName=function(e){return this.getNodeByCallback(function(t){return t.name===e})},e.prototype.getNodeByCallback=function(e){var t=null;return this.iterate(function(o){return!e(o)||(t=o,!1)}),t},e.prototype.addAfter=function(e){if(this.parent){var t=new this.tree.node_class(e),o=this.parent.getChildIndex(this);return this.parent.addChildAtPosition(t,o+1),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t}return null},e.prototype.addBefore=function(e){if(this.parent){var t=new this.tree.node_class(e),o=this.parent.getChildIndex(this);return this.parent.addChildAtPosition(t,o),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t}return null},e.prototype.addParent=function(e){if(this.parent){var t=new this.tree.node_class(e);t._setParent(this.tree);for(var o=this.parent,n=0,r=o.children;n<r.length;n++){var i=r[n];t.addChild(i)}return o.children=[],o.addChild(t),t}return null},e.prototype.remove=function(){this.parent&&(this.parent.removeChild(this),this.parent=null)},e.prototype.append=function(e){var t=new this.tree.node_class(e);return this.addChild(t),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t},e.prototype.prepend=function(e){var t=new this.tree.node_class(e);return this.addChildAtPosition(t,0),"object"==typeof e&&e.children&&e.children.length&&t.loadFromData(e.children),t},e.prototype.isParentOf=function(e){for(var t=e.parent;t;){if(t===this)return!0;t=t.parent}return!1},e.prototype.getLevel=function(){for(var e=0,t=this;t.parent;)e+=1,t=t.parent;return e},e.prototype.getNodeById=function(e){return this.id_mapping[e]},e.prototype.addNodeToIndex=function(e){null!=e.id&&(this.id_mapping[e.id]=e)},e.prototype.removeNodeFromIndex=function(e){null!=e.id&&delete this.id_mapping[e.id]},e.prototype.removeChildren=function(){var e=this;this.iterate(function(t){return e.tree.removeNodeFromIndex(t),!0}),this.children=[]},e.prototype.getPreviousSibling=function(){if(this.parent){var e=this.parent.getChildIndex(this)-1;return e>=0?this.parent.children[e]:null}return null},e.prototype.getNextSibling=function(){if(this.parent){var e=this.parent.getChildIndex(this)+1;return e<this.parent.children.length?this.parent.children[e]:null}return null},e.prototype.getNodesByProperty=function(e,t){return this.filter(function(o){return o[e]===t})},e.prototype.filter=function(e){var t=[];return this.iterate(function(o){return e(o)&&t.push(o),!0}),t},e.prototype.getNextNode=function(e){if(void 0===e&&(e=!0),e&&this.hasChildren()&&this.is_open)return this.children[0];if(this.parent){var t=this.getNextSibling();return t?t:this.parent.getNextNode(!1)}return null},e.prototype.getPreviousNode=function(){if(this.parent){var e=this.getPreviousSibling();return e?e.hasChildren()&&e.is_open?e.getLastChild():e:this.getParent()}return null},e.prototype.getParent=function(){return this.parent&&this.parent.parent?this.parent:null},e.prototype.getLastChild=function(){if(this.hasChildren()){var e=this.children[this.children.length-1];return e.hasChildren()&&e.is_open?e.getLastChild():e}return null},e.prototype.initFromData=function(e){var t=this,o=function(e){t.setData(e),e.children&&n(e.children)},n=function(e){for(var o=0,n=e;o<n.length;o++){var r=n[o],i=new t.tree.node_class("");i.initFromData(r),t.addChild(i)}};o(e)},e.prototype._setParent=function(e){this.parent=e,this.tree=e.tree,this.tree.addNodeToIndex(this)},e.prototype._removeChild=function(e){this.children.splice(this.getChildIndex(e),1),this.tree.removeNodeFromIndex(e)},e}();t.Node=r},,function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=o(1),i=o(0),s=window.jQuery,a=function(){function e(e){this.tree_widget=e,this.hovered_area=null,this.$ghost=null,this.hit_areas=[],this.is_dragging=!1,this.current_item=null}return e.prototype.mouseCapture=function(e){var t=s(e.target);if(!this.mustCaptureElement(t))return null;if(this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(t))return null;var o=this.tree_widget._getNodeElement(t);return o&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(o.node)||(o=null)),this.current_item=o,null!=this.current_item},e.prototype.generateHitAreas=function(){var e=new d(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom);this.hit_areas=e.generate()},e.prototype.mouseStart=function(e){this.refresh();var t,o=s(e.target).offset(),n=this.current_item.node;return t=this.tree_widget.options.autoEscape?i.html_escape(n.name):n.name,this.drag_element=new h(t,e.page_x-o.left,e.page_y-o.top,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},e.prototype.mouseDrag=function(e){this.drag_element.move(e.page_x,e.page_y);var t=this.findHoveredArea(e.page_x,e.page_y),o=this.canMoveToArea(t);return o&&t?(t.node.isFolder()||this.stopOpenFolderTimer(),this.hovered_area!==t&&(this.hovered_area=t,this.mustOpenFolderTimer(t)?this.startOpenFolderTimer(t.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),t||this.tree_widget.options.onDragMove&&this.tree_widget.options.onDragMove(this.current_item.node,e.original_event),!0},e.prototype.mouseStop=function(e){this.moveItem(e),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas();var t=this.current_item;return this.current_item&&(this.current_item.$element.removeClass("jqtree-moving"),this.current_item=null),this.is_dragging=!1,!this.hovered_area&&t&&this.tree_widget.options.onDragStop&&this.tree_widget.options.onDragStop(t.node,e.original_event),!1},e.prototype.refresh=function(){this.removeHitAreas(),this.current_item&&(this.generateHitAreas(),this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node),this.is_dragging&&this.current_item.$element.addClass("jqtree-moving"))},e.prototype.mustCaptureElement=function(e){return!e.is("input,select,textarea")},e.prototype.canMoveToArea=function(e){if(e){if(this.tree_widget.options.onCanMoveTo){var t=r.Position.getName(e.position);return this.tree_widget.options.onCanMoveTo(this.current_item.node,e.node,t)}return!0}return!1},e.prototype.removeHitAreas=function(){this.hit_areas=[]},e.prototype.clear=function(){this.drag_element.remove(),this.drag_element=null},e.prototype.removeDropHint=function(){this.previous_ghost&&this.previous_ghost.remove()},e.prototype.removeHover=function(){this.hovered_area=null},e.prototype.findHoveredArea=function(e,t){var o=this.getTreeDimensions();if(e<o.left||t<o.top||e>o.right||t>o.bottom)return null;for(var n=0,r=this.hit_areas.length;n<r;){var i=n+r>>1,s=this.hit_areas[i];if(t<s.top)r=i;else{if(!(t>s.bottom))return s;n=i+1}}return null},e.prototype.mustOpenFolderTimer=function(e){var t=e.node;return t.isFolder()&&!t.is_open&&e.position===r.Position.INSIDE},e.prototype.updateDropHint=function(){if(this.hovered_area){this.removeDropHint();var e=this.tree_widget._getNodeElementForNode(this.hovered_area.node);this.previous_ghost=e.addDropHint(this.hovered_area.position)}},e.prototype.startOpenFolderTimer=function(e){var t=this,o=function(){t.tree_widget._openNode(e,t.tree_widget.options.slide,function(){t.refresh(),t.updateDropHint()})};this.stopOpenFolderTimer(),this.open_folder_timer=setTimeout(o,this.tree_widget.options.openFolderDelay)},e.prototype.stopOpenFolderTimer=function(){this.open_folder_timer&&(clearTimeout(this.open_folder_timer),this.open_folder_timer=null)},e.prototype.moveItem=function(e){var t=this;if(this.hovered_area&&this.hovered_area.position!==r.Position.NONE&&this.canMoveToArea(this.hovered_area)){var o=this.current_item.node,n=this.hovered_area.node,i=this.hovered_area.position,s=o.parent;i===r.Position.INSIDE&&(this.hovered_area.node.is_open=!0);var a=function(){t.tree_widget.tree.moveNode(o,n,i),t.tree_widget.element.empty(),t.tree_widget._refreshElements()},l=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:o,target_node:n,position:r.Position.getName(i),previous_parent:s,do_move:a,original_event:e.original_event}});l.isDefaultPrevented()||a()}},e.prototype.getTreeDimensions=function(){var e=this.tree_widget.element.offset();return{left:e.left,top:e.top,right:e.left+this.tree_widget.element.width(),bottom:e.top+this.tree_widget.element.height()+16}},e}();t.DragAndDropHandler=a;var l=function(){function e(e){this.tree=e}return e.prototype.iterate=function(){var e=this,t=!0,o=function(n,r){var i=(n.is_open||!n.element)&&n.hasChildren(),a=null;if(n.element){if(a=s(n.element),!a.is(":visible"))return;t&&(e.handleFirstNode(n,a),t=!1),n.hasChildren()?n.is_open?e.handleOpenFolder(n,a)||(i=!1):e.handleClosedFolder(n,r,a):e.handleNode(n,r,a)}if(i){var l=n.children.length;n.children.forEach(function(e,t){t===l-1?o(n.children[t],null):o(n.children[t],n.children[t+1])}),n.is_open&&e.handleAfterOpenFolder(n,r,a)}};o(this.tree,null)},e.prototype.handleNode=function(e,t,o){},e.prototype.handleOpenFolder=function(e,t){},e.prototype.handleClosedFolder=function(e,t,o){},e.prototype.handleAfterOpenFolder=function(e,t,o){},e.prototype.handleFirstNode=function(e,t){},e}(),d=function(e){function t(t,o,n){var r=e.call(this,t)||this;return r.current_node=o,r.tree_bottom=n,r}return n(t,e),t.prototype.generate=function(){return this.positions=[],this.last_top=0,this.iterate(),this.generateHitAreas(this.positions)},t.prototype.generateHitAreas=function(e){for(var t=-1,o=[],n=[],r=0,i=e;r<i.length;r++){var s=i[r];s.top!==t&&o.length&&(o.length&&this.generateHitAreasForGroup(n,o,t,s.top),t=s.top,o=[]),o.push(s)}return this.generateHitAreasForGroup(n,o,t,this.tree_bottom),n},t.prototype.handleOpenFolder=function(e,t){return e!==this.current_node&&(e.children[0]!==this.current_node&&this.addPosition(e,r.Position.INSIDE,this.getTop(t)),!0)},t.prototype.handleClosedFolder=function(e,t,o){var n=this.getTop(o);e===this.current_node?this.addPosition(e,r.Position.NONE,n):(this.addPosition(e,r.Position.INSIDE,n),t!==this.current_node&&this.addPosition(e,r.Position.AFTER,n))},t.prototype.handleFirstNode=function(e,t){e!==this.current_node&&this.addPosition(e,r.Position.BEFORE,this.getTop(s(e.element)))},t.prototype.handleAfterOpenFolder=function(e,t,o){e===this.current_node||t===this.current_node?this.addPosition(e,r.Position.NONE,this.last_top):this.addPosition(e,r.Position.AFTER,this.last_top)},t.prototype.handleNode=function(e,t,o){var n=this.getTop(o);e===this.current_node?this.addPosition(e,r.Position.NONE,n):this.addPosition(e,r.Position.INSIDE,n),t===this.current_node||e===this.current_node?this.addPosition(e,r.Position.NONE,n):this.addPosition(e,r.Position.AFTER,n)},t.prototype.getTop=function(e){return e.offset().top},t.prototype.addPosition=function(e,t,o){var n={top:o,node:e,position:t};this.positions.push(n),this.last_top=o},t.prototype.generateHitAreasForGroup=function(e,t,o,n){for(var r=Math.min(t.length,4),i=Math.round((n-o)/r),s=o,a=0;a<r;){var l=t[a];e.push({top:s,bottom:s+i,node:l.node,position:l.position}),s+=i,a+=1}},t}(l);t.HitAreasGenerator=d;var h=function(){function e(e,t,o,n){this.offset_x=t,this.offset_y=o,this.$element=s('<span class="jqtree-title jqtree-dragging">#{ node_name }</span>'),this.$element.css("position","absolute"),n.append(this.$element)}return e.prototype.move=function(e,t){this.$element.offset({left:e-this.offset_x,top:t-this.offset_y})},e.prototype.remove=function(){this.$element.remove()},e}();t.DragElement=h},function(e,t,o){"use strict";var n=window.jQuery,r=function(){function e(e,t){this.$el=n(e);var o=this.constructor.defaults;this.options=n.extend({},o,t)}return e.register=function(t,o){function r(t,o){var r=n.data(t,o);return r&&r instanceof e?r:null}function i(e,o){for(var i=l(),s=0,a=e;s<a.length;s++){var d=a[s],h=r(d,i);if(!h){var u=new t(d,o);n.data(d,i)||n.data(d,i,u),u._init()}}return e}function s(e){for(var t=l(),o=0,i=e;o<i.length;o++){var s=i[o],a=r(s,t);a&&a.destroy(),n.removeData(s,t)}}function a(t,o,r){for(var i=null,s=0,a=t;s<a.length;s++){var d=a[s],h=n.data(d,l());if(h&&h instanceof e){var u=h[o];u&&"function"==typeof u&&(i=u.apply(h,r))}}return i}var l=function(){return"simple_widget_"+o};n.fn[o]=function(e){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var r=this;if(void 0===e||"object"==typeof e){var l=e;return i(r,l)}if("string"==typeof e&&"_"!==e[0]){var d=e;return"destroy"===d?s(r):"get_widget_class"===d?t:a(r,d,o)}}},e.prototype.destroy=function(){this._deinit()},e.prototype._init=function(){},e.prototype._deinit=function(){},e}();r.defaults={},t.__esModule=!0,t.default=r},,function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=o(17),i=o(3),s=o(3),a=o(10),l=o(11),d=o(12),h=o(14),u=o(15),p=o(16),c=o(4),_=o(1),f=o(1),g=o(0),m=o(0),v=o(13),y=window.jQuery,N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.getModule=function(e){var t={node:_,util:g,drag_and_drop_handler:i};return t[e]},t.prototype.toggle=function(e,t){void 0===t&&(t=null);var o;return o=null==t?this.options.slide:t,e.is_open?this.closeNode(e,o):this.openNode(e,o),this.element},t.prototype.getTree=function(){return this.tree},t.prototype.selectNode=function(e){return this._selectNode(e,!1),this.element},t.prototype.getSelectedNode=function(){return!!this.select_node_handler&&this.select_node_handler.getSelectedNode()},t.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},t.prototype.loadData=function(e,t){return this._loadData(e,t),this.element},t.prototype.loadDataFromUrl=function(e,t,o){return"string"===y.type(e)?this._loadDataFromUrl(e,t,o):this._loadDataFromUrl(null,e,t),this.element},t.prototype.reload=function(e){return this._loadDataFromUrl(null,null,e),this.element},t.prototype.getNodeById=function(e){return this.tree.getNodeById(e)},t.prototype.getNodeByName=function(e){return this.tree.getNodeByName(e)},t.prototype.getNodesByProperty=function(e,t){return this.tree.getNodesByProperty(e,t)},t.prototype.getNodeByHtmlElement=function(e){return this._getNode(y(e))},t.prototype.getNodeByCallback=function(e){return this.tree.getNodeByCallback(e)},t.prototype.openNode=function(e,t,o){var n=this;void 0===t&&(t=null);var r=function(){var e,r;return m.isFunction(t)?(e=t,r=null):(r=t,e=o),null==r&&(r=n.options.slide),[r,e]},i=r(),s=i[0],a=i[1];return e&&this._openNode(e,s,a),this.element},t.prototype.closeNode=function(e,t){void 0===t&&(t=null);var o;return o=null==t?this.options.slide:t,e.isFolder()&&(new v.FolderElement(e,this).close(o),this._saveState()),this.element},t.prototype.isDragging=function(){return!!this.dnd_handler&&this.dnd_handler.is_dragging},t.prototype.refreshHitAreas=function(){return this.dnd_handler.refresh(),this.element},t.prototype.addNodeAfter=function(e,t){var o=t.addAfter(e);return this._refreshElements(t.parent),o},t.prototype.addNodeBefore=function(e,t){var o=t.addBefore(e);return this._refreshElements(t.parent),o},t.prototype.addParentNode=function(e,t){var o=t.addParent(e);return this._refreshElements(o.parent),o},t.prototype.removeNode=function(e){var t=e.parent;return t&&(this.select_node_handler.removeFromSelection(e,!0),e.remove(),this._refreshElements(t)),this.element},t.prototype.appendNode=function(e,t){var o=t||this.tree,n=o.append(e);return this._refreshElements(o),n},t.prototype.prependNode=function(e,t){var o;o=t?t:this.tree;var n=o.prepend(e);return this._refreshElements(o),n},t.prototype.updateNode=function(e,t){var o=t.id&&t.id!==e.id;return o&&this.tree.removeNodeFromIndex(e),e.setData(t),o&&this.tree.addNodeToIndex(e),"object"==typeof t&&t.children&&(e.removeChildren(),t.children.length&&e.loadFromData(t.children)),this.renderer.renderFromNode(e),this._selectCurrentNode(),this.element},t.prototype.moveNode=function(e,t,o){var n=f.Position.nameToIndex(o);return this.tree.moveNode(e,t,n),this._refreshElements(),this.element},t.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},t.prototype.addToSelection=function(e){return e&&(this.select_node_handler.addToSelection(e),this._getNodeElementForNode(e).select(),this._saveState()),this.element},t.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()},t.prototype.isNodeSelected=function(e){return this.select_node_handler.isNodeSelected(e)},t.prototype.removeFromSelection=function(e){return this.select_node_handler.removeFromSelection(e),this._getNodeElementForNode(e).deselect(),this._saveState(),this.element},t.prototype.scrollToNode=function(e){var t=y(e.element),o=t.offset().top-this.$el.offset().top;return this.scroll_handler.scrollTo(o),this.element},t.prototype.getState=function(){return this.save_state_handler.getState()},t.prototype.setState=function(e){return this.save_state_handler.setInitialState(e),this._refreshElements(),this.element},t.prototype.setOption=function(e,t){return this.options[e]=t,this.element},t.prototype.moveDown=function(){return this.key_handler&&this.key_handler.moveDown(),this.element},t.prototype.moveUp=function(){return this.key_handler&&this.key_handler.moveUp(),this.element},t.prototype.getVersion=function(){return r.default},t.prototype.testGenerateHitAreas=function(e){return this.dnd_handler.current_item=this._getNodeElementForNode(e),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},t.prototype._init=function(){e.prototype._init.call(this),this.element=this.$el,this.mouse_delay=300,this.is_initialized=!1,this.options.rtl=this._getRtlOption(),this.options.closedIcon||(this.options.closedIcon=this._getDefaultClosedIcon()),this.renderer=new a.default(this),null!=h.default?this.save_state_handler=new h.default(this):this.options.saveState=!1,null!=p.default&&(this.select_node_handler=new p.default(this)),null!=s.DragAndDropHandler?this.dnd_handler=new s.DragAndDropHandler(this):this.options.dragAndDrop=!1,null!=u.default&&(this.scroll_handler=new u.default(this)),null!=l.default&&null!=p.default&&(this.key_handler=new l.default(this)),this._initData(),this.element.click(y.proxy(this._click,this)),this.element.dblclick(y.proxy(this._dblclick,this)),this.options.useContextMenu&&this.element.on("contextmenu",y.proxy(this._contextmenu,this))},t.prototype._deinit=function(){this.element.empty(),this.element.off(),this.key_handler&&this.key_handler.deinit(),this.tree=null,e.prototype._deinit.call(this)},t.prototype._mouseCapture=function(e){return!!this.options.dragAndDrop&&this.dnd_handler.mouseCapture(e)},t.prototype._mouseStart=function(e){return!!this.options.dragAndDrop&&this.dnd_handler.mouseStart(e)},t.prototype._mouseDrag=function(e){if(this.options.dragAndDrop){var t=this.dnd_handler.mouseDrag(e);return this.scroll_handler&&this.scroll_handler.checkScrolling(),t}return!1},t.prototype._mouseStop=function(e){return!!this.options.dragAndDrop&&this.dnd_handler.mouseStop(e)},t.prototype._initData=function(){if(this.options.data)this._loadData(this.options.data);else{var e=this._getDataUrlInfo();e?this._loadDataFromUrl():this._loadData([])}},t.prototype._getDataUrlInfo=function(e){var t=this,o=this.options.dataUrl||this.element.data("url"),n=function(){var n={url:o};if(e&&e.id){var r={node:e.id};n.data=r}else{var i=t._getNodeIdToBeSelected();if(i){var r={selected_node:i};n.data=r}}return n};return y.isFunction(o)?o(e):"string"===y.type(o)?n():o},t.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?this.save_state_handler.getNodeIdToBeSelected():null},t.prototype._initTree=function(e){var t=this,o=function(){t.is_initialized||(t.is_initialized=!0,t._triggerEvent("tree.init"))};this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.select_node_handler&&this.select_node_handler.clear(),this.tree.loadFromData(e);var n=this._setInitialState();this._refreshElements(),n?this._setInitialStateOnDemand(o):o()},t.prototype._setInitialState=function(){var e=this,t=function(){if(e.options.saveState&&e.save_state_handler){var t=e.save_state_handler.getStateFromStorage();if(t){var o=e.save_state_handler.setInitialState(t);return[!0,o]}return[!1,!1]}return[!1,!1]},o=function(){if(e.options.autoOpen===!1)return!1;var t=e._getAutoOpenMaxLevel(),o=!1;return e.tree.iterate(function(e,n){return e.load_on_demand?(o=!0,!1):!!e.hasChildren()&&(e.is_open=!0,n!==t)}),o},n=t(),r=n[0],i=n[1];return r||(i=o()),i},t.prototype._setInitialStateOnDemand=function(e){var t=this,o=function(){if(t.options.saveState&&t.save_state_handler){var o=t.save_state_handler.getStateFromStorage();return!!o&&(t.save_state_handler.setInitialStateOnDemand(o,e),!0)}return!1},n=function(){var o=t._getAutoOpenMaxLevel(),n=0,r=function(e){n+=1,t._openNode(e,!1,function(){n-=1,i()})},i=function(){t.tree.iterate(function(e,n){return e.load_on_demand?(e.is_loading||r(e),!1):(t._openNode(e,!1),n!==o)}),0===n&&e()};i()};o()||n()},t.prototype._getAutoOpenMaxLevel=function(){return this.options.autoOpen===!0?-1:parseInt(this.options.autoOpen,10)},t.prototype._refreshElements=function(e){this.renderer.render(e),this._triggerEvent("tree.refresh")},t.prototype._click=function(e){var t=this._getClickTarget(e.target);if(t)if("button"===t.type)this.toggle(t.node,this.options.slide),e.preventDefault(),e.stopPropagation();else if("label"===t.type){var o=t.node,n=this._triggerEvent("tree.click",{node:o,click_event:e});n.isDefaultPrevented()||this._selectNode(o,!0)}},t.prototype._dblclick=function(e){var t=this._getClickTarget(e.target);t&&"label"===t.type&&this._triggerEvent("tree.dblclick",{node:t.node,click_event:e})},t.prototype._getClickTarget=function(e){var t=y(e),o=t.closest(".jqtree-toggler");if(o.length){var n=this._getNode(o);if(n)return{type:"button",node:n}}else{var r=t.closest(".jqtree-element");if(r.length){var n=this._getNode(r);if(n)return{type:"label",node:n}}}},t.prototype._getNode=function(e){var t=e.closest("li.jqtree_common");return 0===t.length?null:t.data("node")},t.prototype._getNodeElementForNode=function(e){return e.isFolder()?new v.FolderElement(e,this):new v.NodeElement(e,this)},t.prototype._getNodeElement=function(e){var t=this._getNode(e);return t?this._getNodeElementForNode(t):null},t.prototype._contextmenu=function(e){var t=y(e.target).closest("ul.jqtree-tree .jqtree-element");if(t.length){var o=this._getNode(t);if(o)return e.preventDefault(),e.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:o,click_event:e}),!1}},t.prototype._saveState=function(){this.options.saveState&&this.save_state_handler.saveState()},t.prototype._triggerEvent=function(e,t){var o=y.Event(e);return y.extend(o,t),this.element.trigger(o),o},t.prototype._selectCurrentNode=function(){var e=this.getSelectedNode();if(e){var t=this._getNodeElementForNode(e);t&&t.select()}},t.prototype._deselectCurrentNode=function(){var e=this.getSelectedNode();e&&this.removeFromSelection(e)},t.prototype._getDefaultClosedIcon=function(){return this.options.rtl?"&#x25c0;":"&#x25ba;"},t.prototype._getRtlOption=function(){if(null!=this.options.rtl)return this.options.rtl;var e=this.element.data("rtl");return null!=e&&e!==!1},t.prototype._notifyLoading=function(e,t,o){this.options.onLoading&&this.options.onLoading(e,t,o)},t.prototype._selectNode=function(e,t){var o=this;if(void 0===t&&(t=!1),this.select_node_handler){var n=function(){return o.options.onCanSelectNode?o.options.selectable&&o.options.onCanSelectNode(e):o.options.selectable},r=function(){var t=e.parent;t&&t.parent&&!t.is_open&&o.openNode(t,!1)},i=function(){o.options.saveState&&o.save_state_handler.saveState()};if(!e)return this._deselectCurrentNode(),void i();if(n()){if(this.select_node_handler.isNodeSelected(e))t&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:e}));else{var s=this.getSelectedNode();this._deselectCurrentNode(),this.addToSelection(e),this._triggerEvent("tree.select",{node:e,deselected_node:s}),r()}i()}}},t.prototype._loadData=function(e,t){var o=this;void 0===t&&(t=null);var n=function(){if(o.select_node_handler)for(var e=o.select_node_handler.getSelectedNodesUnder(t),n=0,r=e;n<r.length;n++){var i=r[n];o.select_node_handler.removeFromSelection(i)}},r=function(){t.loadFromData(e),t.load_on_demand=!1,t.is_loading=!1,o._refreshElements(t)};e&&(this._triggerEvent("tree.load_data",{tree_data:e}),t?(n(),r()):this._initTree(e),this.isDragging()&&this.dnd_handler.refresh())},t.prototype._loadDataFromUrl=function(e,t,o){var n=this,r=null,i=e,s=function(){r=t?y(t.element):n.element,r.addClass("jqtree-loading"),n._notifyLoading(!0,t,r)},a=function(){r&&(r.removeClass("jqtree-loading"),n._notifyLoading(!1,t,r))},l=function(){return"string"===y.type(i)?{url:i}:(i.method||(i.method="get"),i)},d=function(e){a(),n._loadData(e,t),o&&y.isFunction(o)&&o()},h=function(e){var t;t=y.isArray(e)||"object"==typeof e?e:null!=t?y.parseJSON(e):[],n.options.dataFilter&&(t=n.options.dataFilter(t)),d(t)},u=function(e){a(),n.options.onLoadFailed&&n.options.onLoadFailed(e)},p=function(){var e=l();y.ajax(y.extend({},e,{method:null!=i.method?i.method.toUpperCase():"GET",cache:!1,dataType:"json",success:h,error:u}))};return e||(i=this._getDataUrlInfo(t)),s(),i?y.isArray(i)?void d(i):void p():void a()},t.prototype._openNode=function(e,t,o){var n=this;void 0===t&&(t=!0);var r=function(e,t,o){var r=new v.FolderElement(e,n);r.open(o,t)};if(e.isFolder())if(e.load_on_demand)this._loadFolderOnDemand(e,t,o);else{for(var i=e.parent;i;)i.parent&&r(i,!1,null),i=i.parent;r(e,t,o),this._saveState()}},t.prototype._loadFolderOnDemand=function(e,t,o){var n=this;void 0===t&&(t=!0),e.is_loading=!0,this._loadDataFromUrl(null,e,function(){n._openNode(e,t,o)})},t}(d.default);N.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:null,openedIcon:"&#x25bc;",slide:!0,nodeClass:f.Node,dataFilter:null,keyboardSupport:!0,openFolderDelay:500,rtl:null,onDragMove:null,onDragStop:null,buttonLeft:!0,onLoading:null},c.default.register(N,"tree")},,,,function(e,t,o){"use strict";var n=o(0),r=window.jQuery,i=function(){function e(e){this.tree_widget=e,this.opened_icon_element=this.createButtonElement(e.options.openedIcon),this.closed_icon_element=this.createButtonElement(e.options.closedIcon)}return e.prototype.render=function(e){e&&e.parent?this.renderFromNode(e):this.renderFromRoot()},e.prototype.renderFromRoot=function(){var e=this.tree_widget.element;e.empty(),this.createDomElements(e[0],this.tree_widget.tree.children,!0,!0,1)},e.prototype.renderFromNode=function(e){var t=r(e.element),o=this.createLi(e,e.getLevel());this.attachNodeData(e,o),t.after(o),t.remove(),e.children&&this.createDomElements(o,e.children,!1,!1,e.getLevel()+1)},e.prototype.createDomElements=function(e,t,o,n,r){var i=this.createUl(o);e.appendChild(i);for(var s=0,a=t;s<a.length;s++){var l=a[s],d=this.createLi(l,r);i.appendChild(d),this.attachNodeData(l,d),l.hasChildren()&&this.createDomElements(d,l.children,!1,l.is_open,r+1)}},e.prototype.attachNodeData=function(e,t){e.element=t,r(t).data("node",e)},e.prototype.createUl=function(e){var t,o;e?(t="jqtree-tree",o="tree",this.tree_widget.options.rtl&&(t+=" jqtree-rtl")):(t="",o="group");var n=document.createElement("ul");return n.className="jqtree_common "+t,n.setAttribute("role",o),n},e.prototype.createLi=function(e,t){var o,n=this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(e);return o=e.isFolder()?this.createFolderLi(e,t,n):this.createNodeLi(e,t,n),this.tree_widget.options.onCreateLi&&this.tree_widget.options.onCreateLi(e,r(o)),o},e.prototype.createFolderLi=function(e,t,o){var n,r=this.getButtonClasses(e),i=this.getFolderClasses(e,o);n=e.is_open?this.opened_icon_element:this.closed_icon_element;var s=document.createElement("li");s.className="jqtree_common "+i,s.setAttribute("role","presentation");var a=document.createElement("div");a.className="jqtree-element jqtree_common",a.setAttribute("role","presentation"),s.appendChild(a);var l=document.createElement("a");return l.className=r,l.appendChild(n.cloneNode(!1)),l.setAttribute("role","presentation"),l.setAttribute("aria-hidden","true"),
this.tree_widget.options.buttonLeft&&a.appendChild(l),a.appendChild(this.createTitleSpan(e.name,t,o,e.is_open,!0)),this.tree_widget.options.buttonLeft||a.appendChild(l),s},e.prototype.createNodeLi=function(e,t,o){var n=["jqtree_common"];o&&n.push("jqtree-selected");var r=n.join(" "),i=document.createElement("li");i.className=r,i.setAttribute("role","presentation");var s=document.createElement("div");return s.className="jqtree-element jqtree_common",s.setAttribute("role","presentation"),i.appendChild(s),s.appendChild(this.createTitleSpan(e.name,t,o,e.is_open,!1)),i},e.prototype.createTitleSpan=function(e,t,o,r,i){var s=document.createElement("span"),a="jqtree-title jqtree_common";return i&&(a+=" jqtree-title-folder"),s.className=a,s.setAttribute("role","treeitem"),s.setAttribute("aria-level",""+t),s.setAttribute("aria-selected",n.getBoolString(o)),s.setAttribute("aria-expanded",n.getBoolString(r)),o&&s.setAttribute("tabindex","0"),s.innerHTML=this.escapeIfNecessary(e),s},e.prototype.getButtonClasses=function(e){var t=["jqtree-toggler","jqtree_common"];return e.is_open||t.push("jqtree-closed"),this.tree_widget.options.buttonLeft?t.push("jqtree-toggler-left"):t.push("jqtree-toggler-right"),t.join(" ")},e.prototype.getFolderClasses=function(e,t){var o=["jqtree-folder"];return e.is_open||o.push("jqtree-closed"),t&&o.push("jqtree-selected"),e.is_loading&&o.push("jqtree-loading"),o.join(" ")},e.prototype.escapeIfNecessary=function(e){return this.tree_widget.options.autoEscape?n.html_escape(e):e},e.prototype.createButtonElement=function(e){if("string"==typeof e){var t=document.createElement("div");return t.innerHTML=e,document.createTextNode(t.innerHTML)}return r(e)[0]},e}();t.__esModule=!0,t.default=i},function(e,t,o){"use strict";var n=window.jQuery,r=function(){function e(e){this.tree_widget=e,e.options.keyboardSupport&&n(document).on("keydown.jqtree",n.proxy(this.handleKeyDown,this))}return e.prototype.deinit=function(){n(document).off("keydown.jqtree")},e.prototype.moveDown=function(){var e=this.tree_widget.getSelectedNode();return!!e&&this.selectNode(e.getNextNode())},e.prototype.moveUp=function(){var e=this.tree_widget.getSelectedNode();return!!e&&this.selectNode(e.getPreviousNode())},e.prototype.moveRight=function(){var e=this.tree_widget.getSelectedNode();return!e||(!e.isFolder()||(e.is_open?this.selectNode(e.getNextNode()):(this.tree_widget.openNode(e),!1)))},e.prototype.moveLeft=function(){var e=this.tree_widget.getSelectedNode();return!e||(e.isFolder()&&e.is_open?(this.tree_widget.closeNode(e),!1):this.selectNode(e.getParent()))},e.prototype.handleKeyDown=function(t){if(!this.tree_widget.options.keyboardSupport)return!0;if(n(document.activeElement).is("textarea,input,select"))return!0;if(!this.tree_widget.getSelectedNode())return!0;var o=t.which;switch(o){case e.DOWN:return this.moveDown();case e.UP:return this.moveUp();case e.RIGHT:return this.moveRight();case e.LEFT:return this.moveLeft();default:return!0}},e.prototype.selectNode=function(e){return!e||(this.tree_widget.selectNode(e),this.tree_widget.scroll_handler&&!this.tree_widget.scroll_handler.isScrolledIntoView(n(e.element).find(".jqtree-element"))&&this.tree_widget.scrollToNode(e),!1)},e}();r.LEFT=37,r.UP=38,r.RIGHT=39,r.DOWN=40,t.__esModule=!0,t.default=r},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=o(4),i=window.jQuery,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.setMouseDelay=function(e){this.mouse_delay=e},t.prototype._init=function(){this.$el.on("mousedown.mousewidget",i.proxy(this._mouseDown,this)),this.$el.on("touchstart.mousewidget",i.proxy(this._touchStart,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0,this.mouse_down_info=null},t.prototype._deinit=function(){this.$el.off("mousedown.mousewidget"),this.$el.off("touchstart.mousewidget");var e=i(document);e.off("mousemove.mousewidget"),e.off("mouseup.mousewidget")},t.prototype._mouseDown=function(e){if(1===e.which){var t=this._handleMouseDown(e,this._getPositionInfo(e));return t&&e.preventDefault(),t}},t.prototype._mouseCapture=function(e){return!0},t.prototype._mouseStart=function(e){return!1},t.prototype._mouseDrag=function(e){},t.prototype._mouseStop=function(e){},t.prototype._handleMouseDown=function(e,t){if(this.is_mouse_started&&this._handleMouseUp(t),this.mouse_down_info=t,this._mouseCapture(t))return this._handleStartMouse(),!0},t.prototype._handleStartMouse=function(){var e=i(document);e.on("mousemove.mousewidget",i.proxy(this._mouseMove,this)),e.on("touchmove.mousewidget",i.proxy(this._touchMove,this)),e.on("mouseup.mousewidget",i.proxy(this._mouseUp,this)),e.on("touchend.mousewidget",i.proxy(this._touchEnd,this)),this.mouse_delay&&this._startMouseDelayTimer()},t.prototype._startMouseDelayTimer=function(){var e=this;this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout(function(){e._is_mouse_delay_met=!0},this.mouse_delay),this._is_mouse_delay_met=!1},t.prototype._mouseMove=function(e){return this._handleMouseMove(e,this._getPositionInfo(e))},t.prototype._handleMouseMove=function(e,t){return this.is_mouse_started?(this._mouseDrag(t),e.preventDefault()):!(!this.mouse_delay||this._is_mouse_delay_met)||(this.is_mouse_started=this._mouseStart(this.mouse_down_info)!==!1,this.is_mouse_started?this._mouseDrag(t):this._handleMouseUp(t),!this.is_mouse_started)},t.prototype._getPositionInfo=function(e){return{page_x:e.pageX,page_y:e.pageY,target:e.target,original_event:e}},t.prototype._mouseUp=function(e){return this._handleMouseUp(this._getPositionInfo(e))},t.prototype._handleMouseUp=function(e){var t=i(document);t.off("mousemove.mousewidget"),t.off("touchmove.mousewidget"),t.off("mouseup.mousewidget"),t.off("touchend.mousewidget"),this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(e))},t.prototype._touchStart=function(e){if(!(e.originalEvent.touches.length>1)){var t=e.originalEvent.changedTouches[0];return this._handleMouseDown(e,this._getPositionInfo(t))}},t.prototype._touchMove=function(e){if(!(e.originalEvent.touches.length>1)){var t=e.originalEvent.changedTouches[0];return this._handleMouseMove(e,this._getPositionInfo(t))}},t.prototype._touchEnd=function(e){if(!(e.originalEvent.touches.length>1)){var t=e.originalEvent.changedTouches[0];return this._handleMouseUp(this._getPositionInfo(t))}},t}(r.default);t.__esModule=!0,t.default=s},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=o(1),i=window.jQuery,s=function(){function e(e,t){this.init(e,t)}return e.prototype.init=function(e,t){this.node=e,this.tree_widget=t,e.element||(e.element=this.tree_widget.element),this.$element=i(e.element)},e.prototype.addDropHint=function(e){return e===r.Position.INSIDE?new l(this.$element):new d(this.node,this.$element,e)},e.prototype.select=function(){var e=this.getLi();e.addClass("jqtree-selected"),e.attr("aria-selected","true");var t=this.getSpan();t.attr("tabindex",0)},e.prototype.deselect=function(){var e=this.getLi();e.removeClass("jqtree-selected"),e.attr("aria-selected","false");var t=this.getSpan();t.attr("tabindex",-1)},e.prototype.getUl=function(){return this.$element.children("ul:first")},e.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")},e.prototype.getLi=function(){return this.$element},e}();t.NodeElement=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.open=function(e,t){var o=this;if(void 0===t&&(t=!0),!this.node.is_open){this.node.is_open=!0;var n=this.getButton();n.removeClass("jqtree-closed"),n.html(""),n.append(this.tree_widget.renderer.opened_icon_element.cloneNode(!1));var r=function(){var t=o.getLi();t.removeClass("jqtree-closed");var n=o.getSpan();n.attr("aria-expanded","true"),e&&e(o.node),o.tree_widget._triggerEvent("tree.open",{node:o.node})};t?this.getUl().slideDown("fast",r):(this.getUl().show(),r())}},t.prototype.close=function(e){var t=this;if(void 0===e&&(e=!0),this.node.is_open){this.node.is_open=!1;var o=this.getButton();o.addClass("jqtree-closed"),o.html(""),o.append(this.tree_widget.renderer.closed_icon_element.cloneNode(!1));var n=function(){var e=t.getLi();e.addClass("jqtree-closed");var o=t.getSpan();o.attr("aria-expanded","false"),t.tree_widget._triggerEvent("tree.close",{node:t.node})};e?this.getUl().slideUp("fast",n):(this.getUl().hide(),n())}},t.prototype.addDropHint=function(e){return this.node.is_open||e!==r.Position.INSIDE?new d(this.node,this.$element,e):new l(this.$element)},t.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},t}(s);t.FolderElement=a;var l=function(){function e(e){var t=e.children(".jqtree-element"),o=e.width()-4;this.$hint=i('<span class="jqtree-border"></span>'),t.append(this.$hint),this.$hint.css({width:o,height:t.outerHeight()-4})}return e.prototype.remove=function(){this.$hint.remove()},e}();t.BorderDropHint=l;var d=function(){function e(e,t,o){this.$element=t,this.node=e,this.$ghost=i('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span>\n            <span class="jqtree_common jqtree-line"></span></li>'),o===r.Position.AFTER?this.moveAfter():o===r.Position.BEFORE?this.moveBefore():o===r.Position.INSIDE&&(e.isFolder()&&e.is_open?this.moveInsideOpenFolder():this.moveInside())}return e.prototype.remove=function(){this.$ghost.remove()},e.prototype.moveAfter=function(){this.$element.after(this.$ghost)},e.prototype.moveBefore=function(){this.$element.before(this.$ghost)},e.prototype.moveInsideOpenFolder=function(){i(this.node.children[0].element).before(this.$ghost)},e.prototype.moveInside=function(){this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},e}();t.GhostDropHint=d},function(e,t,o){"use strict";var n=o(0),r=window.jQuery,i=function(){function e(e){this.tree_widget=e}return e.prototype.saveState=function(){var e=JSON.stringify(this.getState());this.tree_widget.options.onSetStateFromStorage?this.tree_widget.options.onSetStateFromStorage(e):this.supportsLocalStorage()?localStorage.setItem(this.getCookieName(),e):r.cookie&&(r.cookie.raw=!0,r.cookie(this.getCookieName(),e,{path:"/"}))},e.prototype.getStateFromStorage=function(){var e=this._loadFromStorage();return e?this._parseState(e):null},e.prototype.getState=function(){var e=this,t=function(){var t=[];return e.tree_widget.tree.iterate(function(e){return e.is_open&&e.id&&e.hasChildren()&&t.push(e.id),!0}),t},o=function(){return e.tree_widget.getSelectedNodes().map(function(e){return e.id})};return{open_nodes:t(),selected_node:o()}},e.prototype.setInitialState=function(e){if(e){var t=this._openInitialNodes(e.open_nodes);return this._selectInitialNodes(e.selected_node),t}return!1},e.prototype.setInitialStateOnDemand=function(e,t){e?this._setInitialStateOnDemand(e.open_nodes,e.selected_node,t):t()},e.prototype.getNodeIdToBeSelected=function(){var e=this.getStateFromStorage();return e&&e.selected_node?e.selected_node[0]:null},e.prototype._parseState=function(e){var t=r.parseJSON(e);return t&&t.selected_node&&n.isInt(t.selected_node)&&(t.selected_node=[t.selected_node]),t},e.prototype._loadFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):r.cookie?(r.cookie.raw=!0,r.cookie(this.getCookieName())):null},e.prototype._openInitialNodes=function(e){for(var t=!1,o=0,n=e;o<n.length;o++){var r=n[o],i=this.tree_widget.getNodeById(r);i&&(i.load_on_demand?t=!0:i.is_open=!0)}return t},e.prototype._selectInitialNodes=function(e){for(var t=0,o=0,n=e;o<n.length;o++){var r=n[o],i=this.tree_widget.getNodeById(r);i&&(t+=1,this.tree_widget.select_node_handler.addToSelection(i))}return 0!==t},e.prototype._setInitialStateOnDemand=function(e,t,o){var n=this,r=0,i=e,s=function(){for(var e=[],s=0,l=i;s<l.length;s++){var d=l[s],h=n.tree_widget.getNodeById(d);h?h.is_loading||(h.load_on_demand?a(h):n.tree_widget._openNode(h,!1)):e.push(d)}i=e,n._selectInitialNodes(t)&&n.tree_widget._refreshElements(),0===r&&o()},a=function(e){r+=1,n.tree_widget._openNode(e,!1,function(){r-=1,s()})};s()},e.prototype.getCookieName=function(){return"string"==typeof this.tree_widget.options.saveState?this.tree_widget.options.saveState:"tree"},e.prototype.supportsLocalStorage=function(){var e=function(){if(null==localStorage)return!1;try{var e="_storage_test";sessionStorage.setItem(e,"value"),sessionStorage.removeItem(e)}catch(e){return!1}return!0};return null==this._supportsLocalStorage&&(this._supportsLocalStorage=e()),this._supportsLocalStorage},e}();t.__esModule=!0,t.default=i},function(e,t,o){"use strict";var n=window.jQuery,r=function(){function e(e){this.tree_widget=e,this.previous_top=-1,this.is_initialized=!1}return e.prototype.checkScrolling=function(){this._ensureInit();var e=this.tree_widget.dnd_handler.hovered_area;e&&e.top!==this.previous_top&&(this.previous_top=e.top,this.$scroll_parent?this._handleScrollingWithScrollParent(e):this._handleScrollingWithDocument(e))},e.prototype.scrollTo=function(e){if(this._ensureInit(),this.$scroll_parent)this.$scroll_parent[0].scrollTop=e;else{var t=this.tree_widget.$el.offset().top;n(document).scrollTop(e+t)}},e.prototype.isScrolledIntoView=function(e){this._ensureInit();var t,o,r,i,s=n(e);return this.$scroll_parent?(i=0,o=this.$scroll_parent.height(),r=s.offset().top-this.scroll_parent_top,t=r+s.height()):(i=n(window).scrollTop(),o=i+n(window).height(),r=s.offset().top,t=r+s.height()),t<=o&&r>=i},e.prototype._initScrollParent=function(){var e=this,t=function(){var t=["overflow","overflow-y"],o=function(e){for(var o=0,r=t;o<r.length;o++){var i=r[o];if(n.css(e,i)in["auto","scroll"])return!0}return!1};if(o(e.tree_widget.$el[0]))return e.tree_widget.$el;for(var r=0,i=e.tree_widget.$el.parents();r<i.length;r++){var s=i[r];if(o(s))return n(s)}return null},o=function(){e.scroll_parent_top=0,e.$scroll_parent=null};"fixed"===this.tree_widget.$el.css("position")&&o();var r=t();r&&r.length&&"HTML"!==r[0].tagName?(this.$scroll_parent=r,this.scroll_parent_top=this.$scroll_parent.offset().top):o(),this.is_initialized=!0},e.prototype._ensureInit=function(){this.is_initialized||this._initScrollParent()},e.prototype._handleScrollingWithScrollParent=function(e){var t=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-e.bottom;t<20?(this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):e.top-this.scroll_parent_top<20&&(this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1)},e.prototype._handleScrollingWithDocument=function(e){var t=e.top-n(document).scrollTop();t<20?n(document).scrollTop(n(document).scrollTop()-20):n(window).height()-(e.bottom-n(document).scrollTop())<20&&n(document).scrollTop(n(document).scrollTop()+20)},e}();t.__esModule=!0,t.default=r},function(e,t,o){"use strict";var n=(window.jQuery,function(){function e(e){this.tree_widget=e,this.clear()}return e.prototype.getSelectedNode=function(){var e=this.getSelectedNodes();return!!e.length&&e[0]},e.prototype.getSelectedNodes=function(){if(this.selected_single_node)return[this.selected_single_node];var e=[];for(var t in this.selected_nodes)if(this.selected_nodes.hasOwnProperty(t)){var o=this.tree_widget.getNodeById(t);o&&e.push(o)}return e},e.prototype.getSelectedNodesUnder=function(e){if(this.selected_single_node)return e.isParentOf(this.selected_single_node)?[this.selected_single_node]:[];var t=[];for(var o in this.selected_nodes)if(this.selected_nodes.hasOwnProperty(o)){var n=this.tree_widget.getNodeById(o);n&&e.isParentOf(n)&&t.push(n)}return t},e.prototype.isNodeSelected=function(e){return!!e&&(null!=e.id?!!this.selected_nodes[e.id]:!!this.selected_single_node&&this.selected_single_node.element===e.element)},e.prototype.clear=function(){this.selected_nodes={},this.selected_single_node=null},e.prototype.removeFromSelection=function(e,t){var o=this;void 0===t&&(t=!1),null==e.id?this.selected_single_node&&e.element===this.selected_single_node.element&&(this.selected_single_node=null):(delete this.selected_nodes[e.id],t&&e.iterate(function(t){return delete o.selected_nodes[e.id],!0}))},e.prototype.addToSelection=function(e){null!=e.id?this.selected_nodes[e.id]=!0:this.selected_single_node=e},e}());t.__esModule=!0,t.default=n},function(e,t,o){"use strict";var n="1.3.7";t.__esModule=!0,t.default=n},,,,function(e,t,o){e.exports=o(6)}]);